{% extends "base.html" %} 
{% load static %} 

{% block head %}
<title>Jobs</title>
<link rel="stylesheet" href="{% static 'forum/css/forum.css' %}" />
<link
	rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
<script type="text/javascript" src="{% static 'forum/js/forum.js' %}"></script>
{% endblock %} 

{% block content %}
<section id="job-body full">

    <!-- Div for filter modal -->
	<div class="container card my-4 shadow rounded">
		<div class="d-flex flex-center p-2">
			<svg
				xmlns="http://www.w3.org/2000/svg"
				x="0px"
				y="0px"
				width="40"
				height="40"
				viewBox="0 0 172 172"
				style="fill: #000000"
			>
				<g
					fill="none"
					fill-rule="nonzero"
					stroke="none"
					stroke-width="1"
					stroke-linecap="butt"
					stroke-linejoin="miter"
					stroke-miterlimit="10"
					stroke-dasharray=""
					stroke-dashoffset="0"
					font-family="none"
					font-weight="none"
					font-size="none"
					text-anchor="none"
					style="mix-blend-mode: normal"
				>
					<path d="M0,172v-172h172v172z" fill="none"></path>
					<g fill="#1876f2">
						<path
							d="M13.4375,10.75c-4.44067,0 -8.0625,3.62183 -8.0625,8.0625v16.125c0,4.05225 3.00244,7.41162 6.89722,7.97852l58.00171,55.48218c1.51172,1.43823 2.39355,3.39087 2.48804,5.46948l2.47754,56.03857c0.08398,1.83716 1.0708,3.47485 2.65601,4.40918c0.83984,0.48291 1.77417,0.72436 2.7085,0.72436c0.82934,0 1.65869,-0.18896 2.41455,-0.56689l16.24048,-8.17798c1.72168,-0.87134 2.84497,-2.60352 2.93945,-4.53516l2.40405,-48.19653c0.10498,-1.93164 0.89233,-3.7688 2.22559,-5.16504l52.97315,-55.49267c3.86328,-0.59839 6.82373,-3.94727 6.82373,-7.96802v-16.125c0,-4.44067 -3.62183,-8.0625 -8.0625,-8.0625zM13.4375,16.125h145.125c1.48022,0 2.6875,1.20728 2.6875,2.6875v16.125c0,1.48022 -1.20728,2.6875 -2.6875,2.6875c-0.73486,0 -1.43823,0.30444 -1.94214,0.83984l-53.67651,56.22754c-0.60889,0.62988 -1.13379,1.32276 -1.5957,2.05762h-25.51026c-0.5354,-0.79785 -1.13379,-1.55371 -1.84766,-2.23608l-53.85498,-51.51392h106.17724c1.48022,0 2.6875,-1.19678 2.6875,-2.6875c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875h-112.875c-1.48022,0 -2.6875,-1.20728 -2.6875,-2.6875v-16.125c0,-1.48022 1.20728,-2.6875 2.6875,-2.6875zM18.8125,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM32.25,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM45.6875,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM59.125,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM72.5625,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM86,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM99.4375,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM112.875,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM126.3125,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM139.75,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM153.1875,21.5c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875v5.375c0,1.49072 1.20728,2.6875 2.6875,2.6875c1.48022,0 2.6875,-1.19678 2.6875,-2.6875v-5.375c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM137.0625,37.625c-1.48022,0 -2.6875,1.19678 -2.6875,2.6875c0,1.49072 1.20728,2.6875 2.6875,2.6875h10.75c1.48022,0 2.6875,-1.19678 2.6875,-2.6875c0,-1.49072 -1.20728,-2.6875 -2.6875,-2.6875zM77.91651,102.125h21.4895c-0.05249,0.38843 -0.13647,0.77686 -0.16797,1.17578l-2.40405,48.19653l-16.22998,8.16748l-2.47754,-56.02808c-0.021,-0.5144 -0.13648,-1.00781 -0.20996,-1.51172z"
						></path>
					</g>
				</g>
			</svg>
			<a
				class="w-100"
				type="button"
				data-toggle="modal"
				data-target="#jobModal"
			>
				<div class="mx-2 w-100 p-3 text-muted start-blog-box">
					Apply filters...
				</div>
			</a>
			{% if filtered %}
			<a href="{% url 'jobs' %}?clear=1">
				<button
					type="button"
					class="btn mx-3 button-2"
				>
					Clear
				</button>
			</a>
			{% endif %}
		</div>
	</div>

    <!-- divs for job posts -->
	{% for job in page_data %}
	<div class="container card mb-4 shadow rounded">
		<div class="card-body">
			<h2 class="mb-0 text-first">{{ job.role }} @ {{ job.company }}</h2>
			<p class="card-text small date">{{ job.posted_on }}</p>
			<p class="card-text my-4">{{ job.description }}</p>
			<div class="row text-center">
				{% for skill in job.skills.all %}
				<div class="m-2 tag">
					<a href="{% url 'jobs' %}?tags={{skill}}">#{{skill}}</a>
				</div>
				{% endfor %}
			</div>
			<hr class="my-3" />
			<div class="row">
				<div class="col-8">{{ job.location }} â€¢ {{ job.salary }}</div>
				<div class="col-4 d-flex justify-content-end">
					<a href="{% url 'profile' job.posted_by.username %}">
						<button class="btn button-2">Connect</button>
					</a>
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</section>

{% include 'jobs/job_filter_modal.html'%} 
{% include 'pagination.html' %} 

{%endblock%}
